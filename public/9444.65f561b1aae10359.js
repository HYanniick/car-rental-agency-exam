"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9444],{9444:(L,_,r)=>{r.r(_),r.d(_,{LoginPage:()=>y});var p=r(467),m=r(177),i=r(4341),l=r(4742),d=r(5079),u=r(5873),n=r(4438),P=r(4729),h=r(3080),M=r(5670);function C(t,c){1&t&&(n.j41(0,"span",13),n.EFF(1,"Ce champ est obligatoire"),n.k0s())}function O(t,c){1&t&&(n.j41(0,"span",13),n.EFF(1,"Votre email n'est pas valide"),n.k0s())}function E(t,c){if(1&t&&n.DNE(0,C,2,0,"span",13)(1,O,2,0,"span",13),2&t){let s,e;const o=n.XpG();n.vxM(null!=(s=o.loginForm.get("email"))&&null!=s.errors&&s.errors.required?0:-1),n.R7$(),n.vxM(null!=(e=o.loginForm.get("email"))&&null!=e.errors&&e.errors.email?1:-1)}}function f(t,c){1&t&&(n.j41(0,"span",13),n.EFF(1,"Ce champ est obligatoire"),n.k0s())}function v(t,c){1&t&&(n.j41(0,"span",13),n.EFF(1,"Votre mot de passe doit contenir au moins 8 caract\xe8res"),n.k0s())}function T(t,c){if(1&t&&n.DNE(0,f,2,0,"span",13)(1,v,2,0,"span",13),2&t){let s,e;const o=n.XpG();n.vxM(null!=(s=o.loginForm.get("password"))&&null!=s.errors&&s.errors.required?0:-1),n.R7$(),n.vxM(null!=(e=o.loginForm.get("password"))&&null!=e.errors&&e.errors.minlength?1:-1)}}let y=(()=>{var t;class c{constructor(e,o,a){this.authenticationService=e,this.router=o,this.toastController=a,this.loginForm=new i.gE({email:new i.MJ("",[i.k0.required,i.k0.email]),password:new i.MJ("",[i.k0.required,i.k0.minLength(8)])}),this.passwordType="password",this.passwordIcon="eye-off-outline",this.ngOnInit=()=>{},(0,d.a)({eyeOutline:u.ov$,eyeOffOutline:u.f_X})}onToggleShowPassword(){"password"===this.passwordType?(this.passwordType="text",this.passwordIcon="eye-outline"):(this.passwordType="password",this.passwordIcon="eye-off-outline")}onSignIn(){this.authenticationService.signInWithEmailAndPassword(this.loginForm.value).then(()=>{this.router.navigate(["car"])}).catch(e=>{const a=this.getErrorMessage(e.code);this.presentErrorToast(a).then(g=>console.log(g))})}getErrorMessage(e){return"auth/invalid-credential"===e?"Email address or password is incorrect.":"An error occurred. Please try again later."}presentErrorToast(e){var o=this;return(0,p.A)(function*(){yield(yield o.toastController.create({message:e,duration:3e3,position:"top",color:"danger",buttons:[{text:"Dismiss",role:"cancel"}]})).present()})()}navigateToRegister(){this.router.navigate(["/register"])}navigateToHome(){this.router.navigate(["/car"])}}return(t=c).\u0275fac=function(e){return new(e||t)(n.rXU(P.k),n.rXU(h.Ix),n.rXU(M.K_))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:24,vars:7,consts:[[1,"login",3,"fullscreen"],[1,"ion-justify-content-center","ion-align-items-center",2,"height","calc(100vh - 75px)"],["size","12","size-md","6","size-lg","4"],[1,"form-container"],["ngSrc","./assets/CarRentalAgencyLogo.png","priority","","alt","Car Rental Agency Logo","width","150","height","200",1,"logo"],[3,"formGroup"],["label","E-mail","labelPlacement","stacked","placeholder","email@example.com","formControlName","email"],["label","Mot de passe","labelPlacement","stacked","placeholder","***********","formControlName","password",3,"type"],["id","icon-eye-login",3,"click","name"],[1,"container-button"],["size","medium",3,"click","disabled"],[1,"register-link"],[3,"click"],[1,"span-error"]],template:function(e,o){if(1&e&&(n.j41(0,"ion-content",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2)(4,"div",3),n.nrm(5,"img",4),n.j41(6,"form",5)(7,"ion-item"),n.nrm(8,"ion-input",6),n.k0s(),n.DNE(9,E,2,2),n.j41(10,"ion-item"),n.nrm(11,"ion-input",7),n.j41(12,"ion-icon",8),n.bIt("click",function(){return o.onToggleShowPassword()}),n.k0s()(),n.DNE(13,T,2,2),n.j41(14,"div",9)(15,"ion-button",10),n.bIt("click",function(){return o.onSignIn()}),n.EFF(16," Se connecter "),n.k0s()(),n.j41(17,"div",11)(18,"a",12),n.bIt("click",function(){return o.navigateToRegister()}),n.EFF(19,"Vous n'avez pas encore de compte ? Inscrivez-vous ici !"),n.k0s(),n.nrm(20,"br")(21,"br"),n.j41(22,"a",12),n.bIt("click",function(){return o.navigateToHome()}),n.EFF(23,"Retour \xe0 l'accueil"),n.k0s()()()()()()()()),2&e){let a,g;n.Y8G("fullscreen",!0),n.R7$(6),n.Y8G("formGroup",o.loginForm),n.R7$(3),n.vxM(null!=(a=o.loginForm.get("email"))&&a.dirty?9:-1),n.R7$(2),n.Y8G("type",o.passwordType),n.R7$(),n.Y8G("name",o.passwordIcon),n.R7$(),n.vxM(null!=(g=o.loginForm.get("password"))&&g.dirty?13:-1),n.R7$(2),n.Y8G("disabled",o.loginForm.invalid)}},dependencies:[m.MD,i.YN,i.qT,i.BC,i.cb,l.bv,l.Jm,l.hU,l.W9,l.lO,l.iq,l.$w,l.uz,l.ln,l.Gw,i.X1,i.j4,i.JD,m.kt],styles:[".login[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{background-color:var(--ion-color-light);padding:50px;border-radius:8px;text-align:center}.login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:100%;max-height:150px;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto}.login[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:30px}.login[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] + .span-error[_ngcontent-%COMP%]{margin-top:-25px;margin-bottom:10px;color:var(--ion-color-danger);font-size:.85rem}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:last-child > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{width:95%}.login[_ngcontent-%COMP%]   #icon-eye-login[_ngcontent-%COMP%]{display:block;position:absolute;right:15px;top:20px;cursor:pointer}.login[_ngcontent-%COMP%]   .container-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.login[_ngcontent-%COMP%]   .container-button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:80%;margin-bottom:20px}.login[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{text-align:center}.login[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;cursor:pointer}.login[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ion-color-primary-shade)}"]}),c})()}}]);