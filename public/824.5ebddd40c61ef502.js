"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[824],{824:(X,u,l)=>{l.r(u),l.d(u,{RegisterPage:()=>S});var P=l(467),m=l(177),s=l(4341),c=l(4742),h=l(5079),g=l(5873);function v(){const t=/^[a-zA-Z\- ]+$/;return r=>{const n=r.value;return n&&n.trim().split(/\s+/).length>=2&&t.test(n)?null:{invalidFullName:!0}}}function C(){const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return r=>{const n=r.value;return n&&!t.test(n)?{invalidEmail:!0}:null}}function w(){const t=/^[0-9]{10,15}$/;return r=>{const n=r.value;return n&&!t.test(n)?{invalidPhoneNumber:!0}:null}}function M(){const t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[.!@#$%^&*])/;return r=>{const n=r.value;return n&&n.length>=8&&t.test(n)?null:{weakPassword:!0}}}var e=l(4438),F=l(4729),k=l(3080),E=l(5670);function T(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Le nom complet est requis"),e.k0s())}function b(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Le nom complet est invalide"),e.k0s())}function N(t,r){if(1&t&&e.DNE(0,T,2,0,"span",17)(1,b,2,0,"span",17),2&t){let n;const o=e.XpG();e.vxM(null!=(n=o.registerForm.get("fullName"))&&null!=n.errors&&n.errors.required?0:null!=(n=o.registerForm.get("fullName"))&&null!=n.errors&&n.errors.invalidFullName?1:-1)}}function R(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"L'e-mail est requis"),e.k0s())}function x(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Votre e-mail est invalide"),e.k0s())}function O(t,r){if(1&t&&e.DNE(0,R,2,0,"span",17)(1,x,2,0,"span",17),2&t){let n;const o=e.XpG();e.vxM(null!=(n=o.registerForm.get("email"))&&null!=n.errors&&n.errors.required?0:null!=(n=o.registerForm.get("email"))&&null!=n.errors&&n.errors.invalidEmail?1:-1)}}function j(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Le num\xe9ro de t\xe9l\xe9phone est requis"),e.k0s())}function $(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Votre num\xe9ro de t\xe9l\xe9phone est invalide"),e.k0s())}function G(t,r){if(1&t&&e.DNE(0,j,2,0,"span",17)(1,$,2,0,"span",17),2&t){let n;const o=e.XpG();e.vxM(null!=(n=o.registerForm.get("phoneNumber"))&&null!=n.errors&&n.errors.required?0:null!=(n=o.registerForm.get("phoneNumber"))&&null!=n.errors&&n.errors.invalidPhoneNumber?1:-1)}}function I(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Le mot de passe est requis"),e.k0s())}function V(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Le mot de passe doit contenir au moins 8 caract\xe8res, dont une lettre majuscule, une lettre minuscule, un chiffre et un caract\xe8re sp\xe9cial"),e.k0s())}function z(t,r){if(1&t&&e.DNE(0,I,2,0,"span",17)(1,V,2,0,"span",17),2&t){let n;const o=e.XpG();e.vxM(null!=(n=o.registerForm.get("password"))&&null!=n.errors&&n.errors.required?0:null!=(n=o.registerForm.get("password"))&&null!=n.errors&&n.errors.weakPassword?1:-1)}}function D(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Vous devez confirmer votre mot de passe"),e.k0s())}function A(t,r){1&t&&(e.j41(0,"span",17),e.EFF(1,"Les mots de passe ne correspondent pas"),e.k0s())}function L(t,r){if(1&t&&e.DNE(0,D,2,0,"span",17)(1,A,2,0,"span",17),2&t){let n;const o=e.XpG();e.vxM(null!=(n=o.registerForm.get("confirmPassword"))&&null!=n.errors&&n.errors.required?0:null!=(n=o.registerForm.get("confirmPassword"))&&null!=n.errors&&n.errors.passwordMismatch?1:-1)}}let S=(()=>{var t;class r{constructor(o,i,a){this.authenticationService=o,this.router=i,this.toastController=a,this.registerForm=new s.gE({fullName:new s.MJ("",[s.k0.required,v()]),email:new s.MJ("",[s.k0.required,C()]),phoneNumber:new s.MJ("",[s.k0.required,w()]),password:new s.MJ("",[s.k0.required,M()]),confirmPassword:new s.MJ("",[s.k0.required,t=>{var r;const n=null===(r=t.parent)||void 0===r||null===(r=r.get("password"))||void 0===r?void 0:r.value,o=t.value;return n&&o&&n!==o?{passwordMismatch:!0}:null}])}),this.passwordType="password",this.confirmPasswordType="password",this.passwordIcon="eye-outline",this.confirmPasswordIcon="eye-outline",this.ngOnInit=()=>{},(0,h.a)({eyeOutline:g.ov$,eyeOffOutline:g.f_X})}onToggleShowPassword(){"password"===this.passwordType?(this.passwordType="text",this.passwordIcon="eye-off-outline"):(this.passwordType="password",this.passwordIcon="eye-outline")}onToggleShowConfirmPassword(){"password"===this.confirmPasswordType?(this.confirmPasswordType="text",this.confirmPasswordIcon="eye-off-outline"):(this.confirmPasswordType="password",this.confirmPasswordIcon="eye-outline")}onSignUp(){this.authenticationService.signUpWithEmailAndPassword(this.registerForm.value).then(o=>{o&&this.router.navigate(["car"])}).catch(o=>{const a=this.getErrorMessage(o.code);this.errorToast(a)})}getErrorMessage(o){return"auth/email-already-in-use"===o?"Email existant.":"Une erreur est survenue, veuillez r\xe9essayer."}errorToast(o){var i=this;return(0,P.A)(function*(){yield(yield i.toastController.create({message:o,duration:3e3,position:"top",color:"danger",buttons:[{text:"Dismiss",role:"cancel"}]})).present()})()}navigateToLogin(){this.router.navigate(["/login"])}navigateToHome(){this.router.navigate(["/car"])}}return(t=r).\u0275fac=function(o){return new(o||t)(e.rXU(F.k),e.rXU(k.Ix),e.rXU(E.K_))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:34,vars:12,consts:[[1,"register",3,"fullscreen"],[1,"ion-justify-content-center","ion-align-items-center",2,"height","calc(100vh - 75px)"],["size","12","size-md","6","size-lg","4"],[1,"form-container"],["ngSrc","./assets/CarRentalAgencyLogo.png","priority","","alt","Car Rental Agency Logo","width","150","height","200",1,"logo"],[3,"formGroup"],["label","Nom complet","labelPlacement","stacked","placeholder","Jean Dupont","formControlName","fullName"],["label","E-mail","labelPlacement","stacked","placeholder","email@example.com","formControlName","email"],["label","Num\xe9ro de t\xe9l\xe9phone","labelPlacement","stacked","placeholder","0701010101","formControlName","phoneNumber"],["label","Mot de passe","labelPlacement","stacked","placeholder","***********","formControlName","password",3,"type"],["id","icon-eye",3,"click","name"],["label","Confirmer le mot de passe","labelPlacement","stacked","placeholder","***********","formControlName","confirmPassword",3,"type"],["id","icon-eye-confirm",3,"click","name"],[1,"container-button"],["size","medium",3,"click","disabled"],[1,"login-link"],[3,"click"],[1,"span-error"]],template:function(o,i){if(1&o&&(e.j41(0,"ion-content",0)(1,"ion-grid")(2,"ion-row",1)(3,"ion-col",2)(4,"div",3),e.nrm(5,"img",4),e.j41(6,"form",5)(7,"ion-item"),e.nrm(8,"ion-input",6),e.k0s(),e.DNE(9,N,2,1),e.j41(10,"ion-item"),e.nrm(11,"ion-input",7),e.k0s(),e.DNE(12,O,2,1),e.j41(13,"ion-item"),e.nrm(14,"ion-input",8),e.k0s(),e.DNE(15,G,2,1),e.j41(16,"ion-item"),e.nrm(17,"ion-input",9),e.j41(18,"ion-icon",10),e.bIt("click",function(){return i.onToggleShowPassword()}),e.k0s()(),e.DNE(19,z,2,1),e.j41(20,"ion-item"),e.nrm(21,"ion-input",11),e.j41(22,"ion-icon",12),e.bIt("click",function(){return i.onToggleShowConfirmPassword()}),e.k0s()(),e.DNE(23,L,2,1),e.j41(24,"div",13)(25,"ion-button",14),e.bIt("click",function(){return i.onSignUp()}),e.EFF(26," S'inscrire "),e.k0s()(),e.j41(27,"div",15)(28,"a",16),e.bIt("click",function(){return i.navigateToLogin()}),e.EFF(29,"Vous avez d\xe9j\xe0 un compte ? Connectez-vous ici"),e.k0s(),e.nrm(30,"br")(31,"br"),e.j41(32,"a",16),e.bIt("click",function(){return i.navigateToHome()}),e.EFF(33,"Retour \xe0 l'accueil"),e.k0s()()()()()()()()),2&o){let a,d,p,f,_;e.Y8G("fullscreen",!0),e.R7$(6),e.Y8G("formGroup",i.registerForm),e.R7$(3),e.vxM(null!=(a=i.registerForm.get("fullName"))&&a.dirty?9:-1),e.R7$(3),e.vxM(null!=(d=i.registerForm.get("email"))&&d.dirty?12:-1),e.R7$(3),e.vxM(null!=(p=i.registerForm.get("phoneNumber"))&&p.dirty?15:-1),e.R7$(2),e.Y8G("type",i.passwordType),e.R7$(),e.Y8G("name",i.passwordIcon),e.R7$(),e.vxM(null!=(f=i.registerForm.get("password"))&&f.dirty?19:-1),e.R7$(2),e.Y8G("type",i.confirmPasswordType),e.R7$(),e.Y8G("name",i.confirmPasswordIcon),e.R7$(),e.vxM(null!=(_=i.registerForm.get("confirmPassword"))&&_.dirty?23:-1),e.R7$(2),e.Y8G("disabled",i.registerForm.invalid)}},dependencies:[m.MD,c.bv,c.Jm,c.hU,c.W9,c.lO,c.iq,c.$w,c.uz,c.ln,c.Gw,s.YN,s.qT,s.BC,s.cb,s.X1,s.j4,s.JD,m.kt],styles:[".register[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{background-color:var(--ion-color-light);padding:50px;border-radius:8px;text-align:center}.register[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:100%;max-height:150px;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto}.register[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:30px}.register[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] + .span-error[_ngcontent-%COMP%]{margin-top:-25px;margin-bottom:10px}.register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]:last-child > ion-item[_ngcontent-%COMP%] > ion-input[_ngcontent-%COMP%]{width:95%}.register[_ngcontent-%COMP%]   #icon-eye[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]   #icon-eye-confirm[_ngcontent-%COMP%]{display:block;position:absolute;right:15px;top:20px}.register[_ngcontent-%COMP%]   .container-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.register[_ngcontent-%COMP%]   .container-button[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:80%;margin-bottom:20px}.register[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{text-align:center}.register[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;cursor:pointer}.register[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ion-color-primary-shade)}"]}),r})()}}]);